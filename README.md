# tex-hooker

> Данный скрипт автоматизирует загрузку исходных файлов `.tex` и отчета в формате `.pdf` с сайта `Overleaf`

## Workflow

0. При первом запуске убедитесь, что у вас установлены зависимости из `requirements.txt`. Данный файл находится в директории **утилиты**.
    * На `Windows` для установки `yaml` требуется выполнить команду `pip3 install pyyaml`

1. Создать директорию для работы. Это та директория, в которой в последствии будет размещен `/report`. 

2. В директории **утилиты** добавить в файл `conf.yaml` новую сессию под тегом `sessions:` в формате:
    ```yaml
    <unique_session_tag>:
        link: <path/to/project/on/overleaf>
        path: <path/to/project/filder/from/previous/step> 
    ```

    Пример
    ```yaml
    lab5:
        link: "https://www.overleaf.com/project/67398cb06300956b8f23adaa"  
        path: '\\wsl$\Ubuntu-22.04\home\nikita\ics\aa-pipelines'  
    ```

    * Ссылка на проект `<path/to/project/on/overleaf>` отображена в строке поиска при открытии проекта (Там, где вы его редактируете)

3. Все! Теперь для того, чтобы подтянуть себе в директорию отчет с исходниками в нужном формате нужно запустить утилиту, передав в качестве параметра ключа `--tag` тот `<unique_session_tag>`, который вы создали для данной сессии в `conf.yaml`
    ```bash
    python3 main.py --tag=<unique_session_tag>
    ```

    Пример
    ```bash
    python3 main.py --tag=lab5
    ```

## Важные замечания!

1. По умолчанию для работы утилиты необходимо быть авторизированным в `Overleaf` браузере `Firefox`. Если вы работаете в другом браузере, то необходимо также быть в нем авторизированным в `Overleaf` **и в `conf.yaml` изменить значение тега `browser` на свой**. Поддерживаются `firefox`, `chrome` и `safari`, но протестирован был толлько первый.

2. Что-то сломалось? `Fork and fix - don't be a pussy`.
